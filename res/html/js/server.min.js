Pages.onInfo=function(){$("#info-content > h1").html(Messages.nameTemplate(JSON.parse(SimpleChat.channel(Settings.id))));$("#main-spinner").css("display","inline-block");Server.hosts(SimpleChat.feed("hosts",false))};var Server={feedData:function(a){if(a.own===true&&a.name=="hosts"){Server.hosts(a.feed);$("#main-spinner").hide()}SimpleChat.request("query","hosts",{action:"activity"})},host:function(c,b){var d="#"+c;if(!$(d).length){var a='<tr class="host-row" id="'+c+'"><td class="os-cell"><i class="icon-status-offline host-status"></i><i class="icon-os"></i></td><td class="host-name"></td><td><i class="icon-info tooltip"></i></td><td><a class="btn btn-small" data-tr="unlink">Unlink</a></td></tr>';$("#account-table > tbody").append(a)}else{$(d).show()}$(d+" > .host-name").text(b.name);$(d+" .icon-os").attr("class","icon-os os-"+Pages.os(b.os));$(d+" .icon-info").attr("title",Utils.table({version:b.version,last_ip:b.host}));$(d+" .host-status").attr("class",(b.online===true?"icon-status":"icon-status-offline")+" host-status")},hosts:function(b){if(!b.hasOwnProperty("head")){return}$(".host-row").hide();for(var a in b){if(b.hasOwnProperty(a)&&a.length==34){Server.host(a,b[a])}}$("#hosts-content p").show();$("#hosts-content #fieldset").show();$(".host-row:hidden").remove();$(".tooltip").easyTooltip();Server.retranslate()},retranslate:function(){Utils.TR("my_computers");Utils.TR("my_computers_desc");Utils.TR("computer_name");Utils.TR("last_activity");Utils.TR("actions");Utils.TR("unlink")}};$(document).ready(function(){SimpleChat.retranslated.connect(Server,Server.retranslate);ChatView.feedData.connect(Server,Server.feedData)});