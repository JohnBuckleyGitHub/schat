var Plugins={add:function(b){var a='<div class="plugin-wrapper" id="'+b.id+'"><div class="plugin" style="background-image:url('+b.icon+');"><div class="plugin-details"><div class="plugin-header"><span class="plugin-title">'+b.title+'</span><span class="plugin-version">'+b.version+'</span></div><div class="plugin-description">'+b.desc+'</div><div class="restart-controls"><span class="restart-text"></span> <a class="restart-link" data-tr="restart_now" href="#">'+Plugins.tr("restart_now")+'</a></div></div><div class="plugin-controls"><div class="checkbox enable-checkbox"><label><input type="checkbox"> <span class="enable-checkbox-text"><span class="enabled-text" data-tr="enabled">'+Plugins.tr("enabled")+'</span><span class="enable-text" data-tr="enable">'+Plugins.tr("enable")+"</span></span></label></div>"+(b.configurable===true?'<div class="settings"><a class="settings-link" href="#" data-tr="settings">'+Plugins.tr("settings")+"</a></div>":"")+"</div></div></div>";$("#plugins-list").append(a);var c=b.id;Plugins.enable(c,b.enabled);$("#"+c+" input:checkbox").click(function(){var d=$("#"+c+" input:checkbox").prop("checked");PluginsView.enable(c,d);Plugins.enable(c,d)});$("#"+c+" .restart-link").click(function(){PluginsView.restart()});$("#"+c+" .settings-link").on("click",function(){PluginsView.configure(c)})},enable:function(f,b){var e=$("#"+f+" input:checkbox");var a=$("#"+f+" .enabled-text");var c=$("#"+f+" .enable-text");if(b){e.attr("checked","checked");$("#"+f).addClass("plugin-enabled");a.show();c.hide()}else{e.removeAttr("checked");$("#"+f).removeClass("plugin-enabled");a.hide();c.show()}var d=PluginsView.state(f);if(d==0){Plugins.setRestartText(f,"",false)}else{Plugins.setRestartText(f,d==1?"will_be_enabled":"will_be_disabled",true)}},setRestartText:function(f,d,a){var c=$("#"+f+" .plugin-description");var e=$("#"+f+" .restart-text");var b=$("#"+f+" .restart-controls");if(a){c.hide();b.show();e.attr("data-tr",d);e.html(Plugins.tr(d))}else{c.show();b.hide()}},retranslate:function(){$("[data-tr]").each(function(){Plugins.TR($(this).attr("data-tr"))})},tr:function(a){return SimpleChat.translate(a)},TR:function(a){$("[data-tr='"+a+"']").html(Plugins.tr(a))},scrollTo:function(a){document.getElementById(a).scrollIntoView()}};$(document).ready(function(){var a=PluginsView.list();for(var b=0;b<a.length;b++){Plugins.add(a[b])}});if(typeof PluginsView==="undefined"){PluginsView={list:function(){return[]},enable:function(b,a){},state:function(a){return 0},restart:function(){},configure:function(a){}}}else{SimpleChat.retranslated.connect(Plugins.retranslate);PluginsView.scrollTo.connect(Plugins.scrollTo)};