Profile.Field.country=function(b,c){if(c.length!=2){return}var a=Utils.tr("country-"+c);if(a=="country-"+c){return}Profile.addRow(b,'<i class="flag-'+c+'"></i> <span data-tr="country-'+c+'">'+a+"</span>")};Profile.Field.city=Profile.Field.name;Profile.Field.site=function(a,b){var d=Utils.left(htmlspecialchars(b.replace(/\s+/gi,"")),254);var c=d;if(d.indexOf("http://")==0){c=d.slice(7)}else{if(d.indexOf("https://")==0){c=d.slice(8)}else{d="http://"+d}}Profile.addRow(a,'<a href="'+d+'">'+c+"</a>")};Profile.Field.email=function(a,b){var c=Utils.left(htmlspecialchars(b.replace(/\s+/gi,"")),254);if(c.indexOf("mailto:")==0){c=c.slice(7)}Profile.addRow(a,'<a href="mailto:'+c+'">'+c+"</a>")};var ProfilePlugin={process:function(b,a){var d="#"+b;if(!a.hasOwnProperty("geo")){$(d+' [class^="flag-"]').remove();return}var c=a.geo.country.toLowerCase();if(c.length!=2){return}$(d).append(' <span><i class="flag-'+c+'" data-original-title="'+Utils.tr("country-"+c)+'"></i></span>');$(d+" .flag-"+c).tooltip()},connection:function(b){if(!b.hasOwnProperty("geo")){return}var d=b.geo.country.toLowerCase();if(d.length!=2){return}var c=$("#modal-body");c.append(Utils.row("field-country",'<i class="flag-'+d+'"></i> <span data-tr="country-'+d+'">'+Utils.tr("country-"+d)+"</span>"));if(b.geo.org!=""){var e=b.geo.org;var a=e.indexOf(" ");if(a==-1){return}c.append(Utils.row("field-isp",Utils.left(e.slice(a),100)))}}};UserHooks.process.push(ProfilePlugin.process);UserHooks.connection.push(ProfilePlugin.connection);