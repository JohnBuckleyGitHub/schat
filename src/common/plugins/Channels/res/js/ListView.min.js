var ChannelsList={retranslate:function(){$("#join-name").attr("placeholder",Utils.tr("channels_channel_name"))},online:function(){var a=SimpleChat.channel(SimpleChat.serverId());if(a!==null){$("#server-name").html(a.Name)}SimpleChat.feed(SimpleChat.serverId(),"list",1)}};ChannelsList.feed={read:function(a){if(a.type=="body"){if(a.feed=="list"){ChannelsList.feed.list(a.data,a.status)}}},list:function(d,b){$(".channel-item").remove();if(b!=200){return}var a=d.channels;var e=$("#channels-list");for(var c=0;c<a.length;c++){var f=a[c];if(f.length<4){continue}e.append(ChannelsList.feed.listItem(f))}},listItem:function(a){var b=a[3];if(b==""){b='<span data-tr="channels_no_title">'+Utils.tr("channels_no_title")+"</span>"}return'<div class="channel-item"><div class="channel-item-header"><a href="#" class="nick color-default" id="'+a[0]+'">'+a[1]+'</a><span class="badge">'+a[2]+'</span></div><div class="channel-item-title">'+b+"</div></div>"}};$(document).ready(function(){Utils.retranslate();ChannelsList.retranslate();ChannelsList.online();$("#join").on("click.join",function(c){c.preventDefault();var b=$("#join-name");var a=b.val();if(a.length>=3){ChannelsView.join(a);b.val("")}});$("body").on("click.channel",".nick",function(a){a.preventDefault();ChannelsView.join($(this).attr("id"))})});if(typeof SimpleChat!=="undefined"){SimpleChat.retranslated.connect(ChannelsList.retranslate);SimpleChat.online.connect(ChannelsList.online)}if(typeof ChannelsView==="undefined"){ChannelsView={join:function(a){}}}else{ChannelsView.feed.connect(ChannelsList.feed.read)};