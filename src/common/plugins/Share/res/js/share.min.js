!function(){"use strict";function a(a){this.cont=b("div",{id:a,"class":"cont image-type panel panel-default"});var c=this.cont.appendChild(b("div",{"class":"panel-heading"}));c.appendChild(b("span",{"data-tr":"share-upload-images"})),this.cancelBtn=c.appendChild(b("button",{type:"button","class":"btn btn-default btn-cancel btn-xs pull-right","data-tr":"cancel"}));var d=this.cont.appendChild(b("div",{"class":"panel-body"}));this.progress=d.appendChild(b("div",{"class":"progress"})).appendChild(b("div",{"class":"progress-bar"}))}var b=window.schat.ui.createElement;a.prototype.setProgress=function(a,b){this.progress.style.width=Math.floor(100*a/b)+"%"},window.schat.ui.ImageMessage=a}(),function(){"use strict";function a(a,b){if(Settings.getId()===a){var d=new window.schat.ui.ImageMessage(b);Messages.addRawMessage(d.cont),c[b]=d,$(d.cancelBtn).on("click.cancel",function(){Share.cancel(b),d.cont.parentNode.removeChild(d.cont),delete c[b],alignChat()}),Messages.added.length=0,alignChat()}}function b(a,b,d,e){Settings.getId()===a&&c.hasOwnProperty(b)&&c[b].setProgress(d,e)}var c={};"undefined"!=typeof Share?(Share.uploadStarted.connect(a),Share.uploadProgress.connect(b)):window.Share={}}();