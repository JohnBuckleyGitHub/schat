Messages.addFileMessage=function(b){var d=b.Id;var a='<div class="container '+b.Type+'-type" id="'+b.Id+'">';a+='<div class="blocks '+b.Direction+'">';a+='<div class="file-sender">'+DateTime.template(b.Date,b.Day)+Messages.nameBlock(b.Author)+"</div>";a+='<div class="file-block"><span class="file-name">'+b.File+'</span><br><span class="file-state">&nbsp;</span></div>';a+='<div class="file-buttons btn-group"><a class="btn btn-small btn-file-cancel" data-tr="file-cancel" href="sendfile:void">'+Utils.tr("file-cancel")+"</a></div>";a+='<div class="file-progress"><div class="bar"></div></div><div style="clear:both;"></div>';a+="</div></div>";Messages.addHintedRawMessage(a,b.Hint,d);if(b.Direction==="outgoing"){var c=$("#"+d+" .file-state");c.html(Utils.tr("file-waiting"));c.attr("data-tr","file-waiting")}};