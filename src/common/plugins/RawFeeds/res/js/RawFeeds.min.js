RawFeeds={headers:function(c){var b='<div class="feeds-headers">';for(var a in c){if(c.hasOwnProperty(a)){b+=RawFeeds.feed(a,c[a])}}b+="</div>";return b},feed:function(a,b){return'<div class="feed-header">'+RawFeeds.icon(b.cached)+DateTime.template(b.date,true)+' <a href="#" class="feed-name">'+a+"</a></div>"},feedInfo:function(a){return'<div class="feed-info">Last modified: <b>'+DateTime.template(a.date,true)+"</b><br>Size: <b>"+a.size+"</b></div>"},raw:function(a){if(!a.Text.length){return}var b=a.Id;$("#"+b+" .raw-feeds-title").append(' <a class="btn btn-toggle" id=""><i class="icon-plus-small"></i></a>');$.JSONView(a.Text,$("#"+b+" .jsonoutput"));$("#"+b+" .btn-toggle").on("click",function(d){var e=$(this).children();if(e.attr("class")=="icon-plus-small"){$("#"+b+" .jsonoutput").show();e.attr("class","icon-minus-small")}else{$("#"+b+" .jsonoutput").hide();e.attr("class","icon-plus-small")}alignChat()})},icon:function(a){return'<i class="icon-feed'+(a?"-cached":"")+'"></i> '}};Messages.addRawFeedsMessage=function(b){var d=document.createElement("div");d.id=b.Id;d.setAttribute("class","container "+b.Type+"-type");var a='<div class="blocks ';if(b.Extra!==undefined){a+=b.Extra}a+='"><div class="alert '+(b.Status.Code==200?"alert-info":"alert-error")+'"><a class="close" data-dismiss="alert" href="#">Ã—</a>';a+='<div class="raw-feeds-header">';a+='<h3 class="raw-feeds-title">'+b.Title+"</h3>";if(b.Status.Code!=200){a+=' <span class="raw-feeds-bad-status">'+b.Status.Code+" "+b.Status.Desc+"</span>"}a+="</div>";var c=b.Command;if(c=="headers"){a+=RawFeeds.headers(b.Data)}else{if(c=="feed"){a+=RawFeeds.feedInfo(b.Data)}}a+='<div class="jsonoutput" style="display:none;"></div>';a+="</div>";a+="</div>";d.innerHTML=a;Messages.addRawMessage(d,b.Hint.Day);RawFeeds.raw(b);if(c=="feed"){$("#"+b.Id+" .raw-feeds-title").addClass("raw-feeds-title-icon")}alignChat()};$(document).ready(function(){$("body").on("click",".feed-name",function(a){a.preventDefault();SimpleChat.feed(Settings.id,$(this).text(),2)})});