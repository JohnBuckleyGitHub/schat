Messages.days=[];Messages.day=function(a){if(document.getElementById("day-"+a)!==null){return}var d=document.createElement("div");d.id="day-"+a;d.innerHTML='<div class="day-header expanded" id="day-header-'+a+'"><div class="day-day"><a href="#" data-day="'+a+'">'+SimpleChat.day(a)+'</a></div><div class="day-close"><a class="close" href="#">&times;</a></div><div class="day-badge">0</div></div><div class="day-body" id="day-body-'+a+'"></div>';if(Messages.days.indexOf(a)==-1){Messages.days.push(a);Messages.days.sort()}var b=Messages.days.indexOf(a);if(b==Messages.days.length-1){document.getElementById("Chat").appendChild(d)}else{var c=document.getElementById("day-"+Messages.days[b+1]);c.parentNode.insertBefore(d,c)}};Messages.addRawMessage=function(b,a){document.getElementById("day-body-"+a).appendChild(b);Messages.add(b.id)};Messages.reload=function(){if(Pages.current!=0){return}$(".day").remove();Messages.days=[];alignChat()};DateTime.update=function(b){var a=new Date(b.Date);var c=$("#"+b.Id+" .date-time-block");if(b.Day===true){c.children(".day").text(DateTime.day(a))}c.children(".time").text(DateTime.time(a));c.children(".seconds").text(DateTime.seconds(a));var d=$("#"+b.Id);d.attr("data-time",b.Date);if(b.Hint.Hint=="before"&&document.getElementById(b.Hint.Id)!==null){d.detach().insertBefore("#"+b.Hint.Id)}else{d.detach().appendTo("#day-"+b.Hint.Day+" .day-body")}alignChat()};Messages.retranslate=function(){$("[data-day]").each(function(){$(this).text(SimpleChat.day($(this).attr("data-day")))})};(function(){if(typeof ChatView!=="undefined"){ChatView.reload.connect(Messages.reload)}if(typeof SimpleChat!=="undefined"){SimpleChat.retranslated.connect(Messages.retranslate)}})();$(document).ready(function(){var a=$("body");a.on("click",".day-day a",function(b){b.preventDefault();var c="#day-"+$(this).attr("data-day");var d=$(c+" .day-header");if(d.hasClass("expanded")){d.removeClass("expanded");$(c+" .day-body").hide()}else{d.addClass("expanded");$(c+" .day-body").show();$(c+" .day-badge").text(0);$(c+" .day-badge").hide()}alignChat()});a.on("click",".day-close a",function(d){d.preventDefault();var b=$(this).parent().parent().attr("id").substring(11);var e=document.getElementById("day-"+b);e.parentNode.removeChild(e);ChatView.removeDay(b);var c=Messages.days.indexOf(b);if(c!=-1){Messages.days.splice(c,1)}alignChat()});a.on("mouseenter",".day-day",function(b){$("#day-"+$(this).parent().attr("id").substring(11)+" .day-close").fadeIn("fast")});a.on("mouseleave",".day-header",function(b){$("#day-"+$(this).parent().attr("id").substring(4)+" .day-close").fadeOut("fast")})});