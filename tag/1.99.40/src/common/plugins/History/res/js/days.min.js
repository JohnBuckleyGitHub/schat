Messages.days=[];Messages.day=function(a){var d="#day-"+a;if($(d).length){return}var c='<div class="day" id="day-'+a+'"><div class="day-header expanded">  <div class="day-day"><a href="#" data-day="'+a+'">'+SimpleChat.day(a)+'</a></div>  <div class="day-close"><a class="close" href="#">&times;</a></div>  <div class="day-badge">0</div></div><div class="day-body"></div></div>';if(Messages.days.indexOf(a)==-1){Messages.days.push(a);Messages.days.sort()}var b=Messages.days.indexOf(a);if(b==Messages.days.length-1){$("#Chat").append(c)}else{$("#day-"+Messages.days[b+1]).before(c)}if($(".day-day").width()>100){Utils.adjustWidth($(".day-day"))}$(d+" .day-day a").on("click",function(e){e.preventDefault();var f=$(d+" .day-header");if(f.hasClass("expanded")){f.removeClass("expanded");$(d+" .day-body").hide()}else{f.addClass("expanded");$(d+" .day-body").show();$(d+" .day-badge").text(0);$(d+" .day-badge").hide()}alignChat()});$(d+" .day-close a").on("click",function(f){f.preventDefault();$(d).remove();ChatView.removeDay(a);var e=Messages.days.indexOf(a);if(e!=-1){Messages.days.splice(e,1)}alignChat()});$("#day-"+a+" .day-day").on("mouseenter",function(){$("#day-"+a+" .day-close").fadeIn("fast")});$("#day-"+a+" .day-header").on("mouseleave",function(){$("#day-"+a+" .day-close").fadeOut("fast")})};Messages.addRawMessage=function(b,c,a){$("#day-"+a+" .day-body").append(b);Messages.add(c)};Messages.reload=function(){if(Pages.current!=0){return}$(".day").remove();Messages.days=[];alignChat()};Messages.retranslate=function(){$("[data-day]").each(function(){$(this).text(SimpleChat.day($(this).attr("data-day")))});Utils.adjustWidth($(".day-day"))};if(typeof ChatView!=="undefined"){ChatView.reload.connect(Messages.reload)}if(typeof SimpleChat!=="undefined"){SimpleChat.retranslated.connect(Messages.retranslate)};