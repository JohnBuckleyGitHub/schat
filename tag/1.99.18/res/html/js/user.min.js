var Profile={addRow:function(c,b){var a='<tr class="profile-row" id="field-'+c+'"><td class="field-label" data-tr="field-'+c+'">'+Utils.tr("field-"+c)+':</td><td class="field-value">'+b+"</td></tr>";$("#profile-table > tbody").append(a)},body:function(a){Profile.read(a)},feed:function(a){if(Pages.current!=1){return}if(!a.hasOwnProperty("type")){return}if(a.name!=="profile"){return}try{Profile[a.type](a.data)}catch(b){}},read:function(c){if(!c.hasOwnProperty("head")){return}$(".profile-row").remove();var a=SimpleChat.fields();for(var b=0;b<a.length;b++){var d=a[b];if(c.hasOwnProperty(d)){Profile.Field.generic(d,c[d])}}$("#main-spinner").hide()},reload:function(){if(Pages.current!=1){return}$("#main-spinner").css("display","inline-block");Utils.TR("profile");Profile.read(SimpleChat.feed(Settings.id,"profile"))},reply:function(a){if(a.action!=="x-set"){return}Profile.read(SimpleChat.feed(Settings.id,"profile"))},retranslate:function(){Utils.TR("profile")},Field:{generic:function(a,b){if(typeof b!=="string"){return}if(b===""){return}Profile.addRow(a,b)}}};Pages.onInfo.push(Profile.reload);SimpleChat.retranslated.connect(Profile.retranslate);ChatView.feed.connect(Profile.feed);ChatView.reload.connect(Profile.reload);