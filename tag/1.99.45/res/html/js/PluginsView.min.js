var Plugins={add:function(b){var a='<div class="plugin-wrapper" id="'+b.id+'"><div class="plugin" style="background-image:url('+b.icon+');"><div class="plugin-details"><div class="plugin-header"><span class="plugin-title">'+b.title+'</span><span class="plugin-version">'+b.version+'</span></div><div class="plugin-description">'+b.desc+'</div><div class="restart-controls"><span class="restart-text"></span> <a class="restart-link" data-tr="restart_now" href="#">'+Plugins.tr("restart_now")+'</a></div></div><div class="plugin-controls"><div class="checkbox enable-checkbox"><label><input type="checkbox"> <span class="enable-checkbox-text"><span class="enabled-text" data-tr="enabled">'+Plugins.tr("enabled")+'</span><span class="enable-text" data-tr="enable">'+Plugins.tr("enable")+"</span></span></label></div></div></div></div>";$("#plugins-list").append(a);var c=b.id;Plugins.enable(c,b.enabled);$("#"+c+" input:checkbox").click(function(){var d=$("#"+c+" input:checkbox").prop("checked");PluginsView.enable(c,d);Plugins.enable(c,d)});$("#"+c+" .restart-link").click(function(){PluginsView.restart()})},enable:function(c,a){if(a){$("#"+c+" input:checkbox").attr("checked","checked");$("#"+c).addClass("plugin-enabled");$("#"+c+" .enabled-text").show();$("#"+c+" .enable-text").hide()}else{$("#"+c+" input:checkbox").removeAttr("checked");$("#"+c).removeClass("plugin-enabled");$("#"+c+" .enabled-text").hide();$("#"+c+" .enable-text").show()}var b=PluginsView.state(c);if(b==0){Plugins.setRestartText(c,"",false)}else{Plugins.setRestartText(c,b==1?"will_be_enabled":"will_be_disabled",true)}},setRestartText:function(c,b,a){if(a){$("#"+c+" .plugin-description").hide();$("#"+c+" .restart-controls").show();$("#"+c+" .restart-text").attr("data-tr",b);$("#"+c+" .restart-text").html(Plugins.tr(b))}else{$("#"+c+" .plugin-description").show();$("#"+c+" .restart-controls").hide()}},retranslate:function(){$("[data-tr]").each(function(){Plugins.TR($(this).attr("data-tr"))})},tr:function(a){return SimpleChat.translate(a)},TR:function(a){$("[data-tr='"+a+"']").html(Plugins.tr(a))}};$(document).ready(function(){var a=PluginsView.list();for(var b=0;b<a.length;b++){Plugins.add(a[b])}});if(typeof PluginsView==="undefined"){PluginsView={list:function(){return[]},enable:function(b,a){},state:function(a){return 0},restart:function(){}}}else{SimpleChat.retranslated.connect(Plugins.retranslate)};