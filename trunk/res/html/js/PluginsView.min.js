var Plugins={add:function(a){var b='<div class="plugin-wrapper" id="'+a.id+'">'+'<div class="plugin" style="background-image:url('+a.icon+');">'+'<div class="plugin-details">'+'<div class="plugin-header"><span class="plugin-title">'+a.title+'</span><span class="plugin-version">'+a.version+"</span></div>"+'<div class="plugin-description">'+a.desc+"</div>"+'<div class="restart-controls">'+'<span class="restart-text"></span> '+'<a class="restart-link" data-tr="restart_now" href="#">'+Plugins.tr("restart_now")+"</a>"+"</div>"+"</div>"+'<div class="plugin-controls">'+'<div class="checkbox enable-checkbox">'+"<label>"+'<input type="checkbox"> '+'<span class="enable-checkbox-text">'+'<span class="enabled-text" data-tr="enabled">'+Plugins.tr("enabled")+"</span>"+'<span class="enable-text" data-tr="enable">'+Plugins.tr("enable")+"</span>"+"</span>"+"</label>"+"</div>"+(a.configurable===!0?'<div class="settings"><a class="settings-link" href="#" data-tr="settings">'+Plugins.tr("settings")+"</a></div>":"")+"</div>"+"</div>"+"</div>";$("#plugins-list").append(b);var c=a.id;Plugins.enable(c,a.enabled),$("#"+c+" input:checkbox").click(function(){var a=$("#"+c+" input:checkbox").prop("checked");PluginsView.enable(c,a),Plugins.enable(c,a)}),$("#"+c+" .restart-link").click(function(){PluginsView.restart()}),$("#"+c+" .settings-link").on("click",function(){PluginsView.configure(c)})},enable:function(a,b){var c=$("#"+a+" input:checkbox"),d=$("#"+a+" .enabled-text"),e=$("#"+a+" .enable-text");b?(c.attr("checked","checked"),$("#"+a).addClass("plugin-enabled"),d.show(),e.hide()):(c.removeAttr("checked"),$("#"+a).removeClass("plugin-enabled"),d.hide(),e.show());var f=PluginsView.state(a);0==f?Plugins.setRestartText(a,"",!1):Plugins.setRestartText(a,1==f?"will_be_enabled":"will_be_disabled",!0)},setRestartText:function(a,b,c){var d=$("#"+a+" .plugin-description"),e=$("#"+a+" .restart-text"),f=$("#"+a+" .restart-controls");c?(d.hide(),f.show(),e.attr("data-tr",b),e.html(Plugins.tr(b))):(d.show(),f.hide())},retranslate:function(){$("[data-tr]").each(function(){Plugins.TR($(this).attr("data-tr"))})},tr:function(a){return SimpleChat.translate(a)},TR:function(a){$("[data-tr='"+a+"']").html(Plugins.tr(a))},scrollTo:function(a){document.getElementById(a).scrollIntoView()}};$(document).ready(function(){for(var a=PluginsView.list(),b=0;b<a.length;b++)Plugins.add(a[b])}),"undefined"==typeof PluginsView?PluginsView={list:function(){return[]},enable:function(){},state:function(){return 0},restart:function(){},configure:function(){}}:(SimpleChat.retranslated.connect(Plugins.retranslate),PluginsView.scrollTo.connect(Plugins.scrollTo));