Messages.days=[];Messages.day=function(a){if(document.getElementById("day-"+a)!==null){return}var c='<div class="day" id="day-'+a+'"><div class="day-header expanded">  <div class="day-day"><a href="#" data-day="'+a+'">'+SimpleChat.day(a)+'</a></div>  <div class="day-close"><a class="close" href="#">&times;</a></div>  <div class="day-badge">0</div></div><div class="day-body"></div></div>';if(Messages.days.indexOf(a)==-1){Messages.days.push(a);Messages.days.sort()}var b=Messages.days.indexOf(a);if(b==Messages.days.length-1){$("#Chat").append(c)}else{$("#day-"+Messages.days[b+1]).before(c)}var e=$(".day-day");var d="#day-"+a;if(e.width()>100){Utils.adjustWidth(e)}$(d+" .day-day a").on("click",function(f){f.preventDefault();var g=$(d+" .day-header");if(g.hasClass("expanded")){g.removeClass("expanded");$(d+" .day-body").hide()}else{g.addClass("expanded");$(d+" .day-body").show();$(d+" .day-badge").text(0);$(d+" .day-badge").hide()}alignChat()});$(d+" .day-close a").on("click",function(g){g.preventDefault();$(d).remove();ChatView.removeDay(a);var f=Messages.days.indexOf(a);if(f!=-1){Messages.days.splice(f,1)}alignChat()});$("#day-"+a+" .day-day").on("mouseenter",function(){$("#day-"+a+" .day-close").fadeIn("fast")});$("#day-"+a+" .day-header").on("mouseleave",function(){$("#day-"+a+" .day-close").fadeOut("fast")})};Messages.addRawMessage=function(b,c,a){$("#day-"+a+" .day-body").append(b);Messages.add(c)};Messages.reload=function(){if(Pages.current!=0){return}$(".day").remove();Messages.days=[];alignChat()};DateTime.update=function(b){var a=new Date(b.Date);var c=$("#"+b.Id+" .date-time-block");if(b.Day===true){c.children(".day").text(DateTime.day(a))}c.children(".time").text(DateTime.time(a));c.children(".seconds").text(DateTime.seconds(a));var d=$("#"+b.Id);d.attr("data-time",b.Date);if(b.Hint.Hint=="before"&&document.getElementById(b.Hint.Id)!==null){d.detach().insertBefore("#"+b.Hint.Id)}else{d.detach().appendTo("#day-"+b.Hint.Day+" .day-body")}alignChat()};Messages.retranslate=function(){$("[data-day]").each(function(){$(this).text(SimpleChat.day($(this).attr("data-day")))});Utils.adjustWidth($(".day-day"))};if(typeof ChatView!=="undefined"){ChatView.reload.connect(Messages.reload)}if(typeof SimpleChat!=="undefined"){SimpleChat.retranslated.connect(Messages.retranslate)}Pages.onMessages.push(function(){Utils.adjustWidth($(".day-day"))});